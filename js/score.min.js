var dataUrl="https://py.bodan2020.com/worldCup/score/json.php",xhr=new XMLHttpRequest;function generateTable(t){let e=document.createElement("ul");e.setAttribute("id","portfolio-flters");let n=document.createElement("li");n.textContent="全部",n.classList.add("filterBtn","filter-active"),n.setAttribute("id","filter-allButton");let a=document.createElement("li");a.textContent="小組賽第一輪",a.classList.add("filterBtn"),a.setAttribute("id","filter-groupFirstRoundButton");let r=document.createElement("li");r.textContent="小組賽第二輪",r.classList.add("filterBtn"),r.setAttribute("id","filter-groupSecondRoundButton");let s=document.createElement("li");s.textContent="小組賽第三輪",s.classList.add("filterBtn"),s.setAttribute("id","filter-groupThirdRoundButton");let l=document.createElement("li");l.textContent="16強賽",l.classList.add("filterBtn"),l.setAttribute("id","filter-roundOf16Button");let o=document.createElement("li");o.textContent="8強賽",o.classList.add("filterBtn"),o.setAttribute("id","filter-quarterFinalsButton");let c=document.createElement("li");c.textContent="4強賽",c.classList.add("filterBtn"),c.setAttribute("id","filter-semiFinalsButton");let d=document.createElement("li");d.textContent="季軍戰",d.classList.add("filterBtn"),d.setAttribute("id","filter-thirdPlacePlayoffButton");let i=document.createElement("li");i.textContent="冠軍戰",i.classList.add("filterBtn"),i.setAttribute("id","filter-finalButton"),e.appendChild(n),e.appendChild(a),e.appendChild(r),e.appendChild(s),e.appendChild(l),e.appendChild(o),e.appendChild(c),e.appendChild(d),e.appendChild(i);let u=document.createElement("tbody"),p=document.createElement("thead"),m=document.createElement("table"),h=document.createElement("div"),g=document.createElement("div");var y=0;m.classList.add("table","custom-table"),h.classList.add("table-responsive","container","content","portfolio-container"),t.forEach(f=>{let C=document.createElement("tr");Object.keys(f).forEach(t=>{let e=document.createElement("td"),n=document.createElement("p");n.textContent=f[t];let a=document.createElement("div");a.classList.add("flag");let r=document.createElement("img");r.classList.add("img-fluid"),r.src=chooseCountryFlag(f[t]);let s=document.createElement("img");s.src="https://push.bodan2020.com/worldCupMatch/images/soccer.gif";let l=document.createElement("p"),o=document.createElement("p"),c=document.createElement("small");c.classList.add("d-block");let d=f["時間"];var i=d.slice(5,7),u=d.slice(8,10),p=d.slice(11,13),m=d.slice(14,16),h=d.slice(17,19);switch(t){case"球隊1":e.classList.add("td_team",compareScore(f["球隊1分數"],f["球隊2分數"])),a.appendChild(r),e.appendChild(n),e.appendChild(a),C.appendChild(e);break;case"球隊1分數":e.textContent=f[t],e.classList.add("td_score",compareScore(f["球隊1分數"],f["球隊2分數"])),C.appendChild(e);break;case"賽程":var g=f["賽程"];C.classList.add(matchTypeFilter(g)),"1"===f["進行中"]?(e.textContent+="比賽進行中",e.appendChild(s)):"2"===f["進行中"]?e.textContent+="比賽結束":(setInterval(function(){c.textContent=compareMatchDate(i,u,p,m,h)},1e3),l.textContent=matchType(g),o.textContent=f["時間"],e.appendChild(l).appendChild(o).appendChild(c)),e.classList.add("td_"+t),C.appendChild(e);break;case"球隊2分數":e.textContent=f[t],e.classList.add("td_score",compareScore(f["球隊2分數"],f["球隊1分數"])),C.appendChild(e);break;case"球隊2":e.classList.add("td_team",compareScore(f["球隊2分數"],f["球隊1分數"])),a.appendChild(r),e.appendChild(n),e.appendChild(a),C.appendChild(e)}}),y+=1,C.classList.add("tr_"+y,"trMatch"),u.appendChild(C)}),m.appendChild(u);let f=document.createElement("tr");return Object.keys(t[0]).forEach(t=>{let e=document.createElement("th");switch(t){case"球隊1":e.textContent="國家",f.appendChild(e);break;case"球隊1分數":e.textContent="分數",f.appendChild(e);break;case"賽程":e.textContent=t,f.appendChild(e);break;case"球隊2分數":e.textContent="分數",f.appendChild(e);break;case"球隊2":e.textContent="國家",f.appendChild(e)}}),p.appendChild(f),m.appendChild(p),h.appendChild(m),g.appendChild(e),g.appendChild(h),g}function compareScore(t,e){return Number(t)>Number(e)?"td_winTeam":Number(t)<Number(e)?"td_loseTeam":"td_equalTeam"}function chooseCountryFlag(t){switch(t){case"卡達":return"https://push.bodan2020.com/worldCupMatch/images/country/卡達.png";case"巴西":return"https://push.bodan2020.com/worldCupMatch/images/country/巴西.png";case"比利時":return"https://push.bodan2020.com/worldCupMatch/images/country/比利時.png";case"法國":return"https://push.bodan2020.com/worldCupMatch/images/country/法國.png";case"阿根廷":return"https://push.bodan2020.com/worldCupMatch/images/country/阿根廷.png";case"英格蘭":return"https://push.bodan2020.com/worldCupMatch/images/country/英格蘭.png";case"西班牙":return"https://push.bodan2020.com/worldCupMatch/images/country/西班牙.png";case"葡萄牙":return"https://push.bodan2020.com/worldCupMatch/images/country/葡萄牙.png";case"墨西哥":return"https://push.bodan2020.com/worldCupMatch/images/country/墨西哥.png";case"荷蘭":return"https://push.bodan2020.com/worldCupMatch/images/country/荷蘭.png";case"丹麥":return"https://push.bodan2020.com/worldCupMatch/images/country/丹麥.png";case"德國":return"https://push.bodan2020.com/worldCupMatch/images/country/德國.png";case"烏拉圭":return"https://push.bodan2020.com/worldCupMatch/images/country/烏拉圭.png";case"瑞士":return"https://push.bodan2020.com/worldCupMatch/images/country/瑞士.png";case"美國":return"https://push.bodan2020.com/worldCupMatch/images/country/美國.png";case"克羅埃西亞":return"https://push.bodan2020.com/worldCupMatch/images/country/克羅埃西亞.png";case"塞內加爾":return"https://push.bodan2020.com/worldCupMatch/images/country/塞內加爾.png";case"伊朗":return"https://push.bodan2020.com/worldCupMatch/images/country/伊朗.png";case"日本":return"https://push.bodan2020.com/worldCupMatch/images/country/日本.png";case"摩洛哥":return"https://push.bodan2020.com/worldCupMatch/images/country/摩洛哥.png";case"塞爾維亞":return"https://push.bodan2020.com/worldCupMatch/images/country/塞爾維亞.png";case"波蘭":return"https://push.bodan2020.com/worldCupMatch/images/country/波蘭.png";case"南韓":return"https://push.bodan2020.com/worldCupMatch/images/country/南韓.png";case"突尼西亞":return"https://push.bodan2020.com/worldCupMatch/images/country/突尼西亞.png";case"喀麥隆":return"https://push.bodan2020.com/worldCupMatch/images/country/喀麥隆.png";case"加拿大":return"https://push.bodan2020.com/worldCupMatch/images/country/加拿大.png";case"厄瓜多":return"https://push.bodan2020.com/worldCupMatch/images/country/厄瓜多.png";case"沙烏地":return"https://push.bodan2020.com/worldCupMatch/images/country/沙烏地.png";case"迦納":return"https://push.bodan2020.com/worldCupMatch/images/country/迦納.png";case"威爾斯":return"https://push.bodan2020.com/worldCupMatch/images/country/威爾斯.png";case"澳大利亞":return"https://push.bodan2020.com/worldCupMatch/images/country/澳大利亞.png";case"哥斯大黎加":return"https://push.bodan2020.com/worldCupMatch/images/country/哥斯大黎加.png";default:return"https://push.bodan2020.com/worldCupMatch/images/country/normal.png"}}function compareMatchDate(t,e,n,a,r){var s=new Date,l=(new Date).getTime();s.setMonth(t-1),s.setDate(e),s.setHours(n),s.setMinutes(a),s.setSeconds(r);a=(s.getTime()-l)/1e3,r=parseInt(a/86400),s=parseInt(a%86400/3600),l=parseInt(a%3600/60),a=parseInt(a%60);if(0<a)return 0===r?0===s?0===l?"倒數"+a+"秒":"倒數"+l+"分鐘"+a+"秒":"倒數"+s+"小時"+l+"分鐘"+a+"秒":"倒數"+r+"天"+s+"小時"+l+"分鐘"+a+"秒"}function matchTypeFilter(t){return t.includes("小組賽")?t.includes("第一輪")?"filter-groupFirstRound":t.includes("第二輪")?"filter-groupSecondRound":t.includes("第三輪")?"filter-groupThirdRound":void 0:t.includes("16強賽")?"filter-roundOf16":t.includes("8強賽")?"filter-quarterFinals":t.includes("準決賽")?"filter-semiFinals":t.includes("第三名")?"filter-thirdPlacePlayoff":t.includes("決賽")?"filter-final":void 0}function matchType(t){if(t.includes("小組賽")){var e=/[A-H]/;return groupNameSearch=t.search(e),group=t.substr(groupNameSearch,groupNameSearch-2),group}return t.includes("16強賽")?"16強賽":t.includes("8強賽")?"8強賽":t.includes("準決賽")?"4強賽":t.includes("第三名")?"季軍戰":t.includes("決賽")?"冠軍戰":void 0}function filterButton(){var e=document.getElementsByClassName("trMatch"),n=document.getElementsByClassName("filter-groupFirstRound"),a=document.getElementsByClassName("filter-groupSecondRound"),r=document.getElementsByClassName("filter-groupThirdRound"),s=document.getElementsByClassName("filter-roundOf16"),l=document.getElementsByClassName("filter-quarterFinals"),o=document.getElementsByClassName("filter-semiFinals"),c=document.getElementsByClassName("filter-thirdPlacePlayoff"),d=document.getElementsByClassName("filter-final"),i=document.getElementsByClassName("filterBtn"),u=document.getElementById("filter-allButton"),p=document.getElementById("filter-groupFirstRoundButton"),m=document.getElementById("filter-groupSecondRoundButton"),h=document.getElementById("filter-groupThirdRoundButton"),g=document.getElementById("filter-roundOf16Button"),f=document.getElementById("filter-quarterFinalsButton"),C=document.getElementById("filter-semiFinalsButton"),y=document.getElementById("filter-thirdPlacePlayoffButton"),b=document.getElementById("filter-finalButton");u.onclick=function(){for(var t=0;t<i.length;t++)i[t].classList.remove("filter-active");u.classList.add("filter-active");for(t=0;t<e.length;t++)e[t].style.display="table-row"},p.onclick=function(){for(var t=0;t<i.length;t++)i[t].classList.remove("filter-active");p.classList.add("filter-active");for(t=0;t<e.length;t++)e[t].style.display="none";for(t=0;t<n.length;t++)n[t].style.display="table-row"},m.onclick=function(){for(var t=0;t<i.length;t++)i[t].classList.remove("filter-active");m.classList.add("filter-active");for(t=0;t<e.length;t++)e[t].style.display="none";for(t=0;t<a.length;t++)a[t].style.display="table-row"},h.onclick=function(){for(var t=0;t<i.length;t++)i[t].classList.remove("filter-active");h.classList.add("filter-active");for(t=0;t<e.length;t++)e[t].style.display="none";for(t=0;t<r.length;t++)r[t].style.display="table-row"},g.onclick=function(){for(var t=0;t<i.length;t++)i[t].classList.remove("filter-active");g.classList.add("filter-active");for(t=0;t<e.length;t++)e[t].style.display="none";for(t=0;t<s.length;t++)s[t].style.display="table-row"},f.onclick=function(){for(var t=0;t<i.length;t++)i[t].classList.remove("filter-active");f.classList.add("filter-active");for(t=0;t<e.length;t++)e[t].style.display="none";for(t=0;t<l.length;t++)l[t].style.display="table-row"},C.onclick=function(){for(var t=0;t<i.length;t++)i[t].classList.remove("filter-active");C.classList.add("filter-active");for(t=0;t<e.length;t++)e[t].style.display="none";for(t=0;t<o.length;t++)o[t].style.display="table-row"},y.onclick=function(){for(var t=0;t<i.length;t++)i[t].classList.remove("filter-active");y.classList.add("filter-active");for(t=0;t<e.length;t++)e[t].style.display="none";for(t=0;t<c.length;t++)c[t].style.display="table-row"},b.onclick=function(){for(var t=0;t<i.length;t++)i[t].classList.remove("filter-active");b.classList.add("filter-active");for(t=0;t<e.length;t++)e[t].style.display="none";for(t=0;t<d.length;t++)d[t].style.display="table-row"}}xhr.open("GET",dataUrl,!0),xhr.send(),xhr.onload=function(){var t=JSON.parse(this.responseText);document.getElementById("matchScore").appendChild(generateTable(t)),filterButton()};